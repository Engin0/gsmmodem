/*----------------------------------------------------------------
 *类库GSMMODEM完成通过短信猫发送和接收短信
 *开源地址：http://code.google.com/p/gsmmodem/
 * 
 *类库GSMMODEM遵循开源协议LGPL
 *有关协议内容参见：http://www.gnu.org/licenses/lgpl.html
 * 
 * Copyright (C) 2011 刘中原
 * 版权所有。 
 * 
 * 文件名： PDUEncodingTest.cs
 * 
 * 文件功能描述：   完成PDU短信格式的编码与解码类的单元测试
 *              
 * 创建标识：   刘中原20110520
 * 
 * 修改标识：   
 * 修改描述：   
 * 
**----------------------------------------------------------------*/

using System;
using System.Collections.Generic;
using System.Text;
using Xunit;
using GSMMODEM;

namespace GSMMODEMTest
{
    public class PDUEncodingTest
    {
        PDUEncoding pe = new PDUEncoding();

        [Fact]
        public void PDUEncoderWithSCATest() //含短信中心号编码测试
        {
            List<CodedMessage> lcm = new List<CodedMessage>();
            //英文短信
            for (int i = 0; i <3; i++)
            {
                if (i == 0)
                {
                    pe.ServiceCenterAddress = "13800511500";
                }
                if (i == 1)
                {
                    pe.ServiceCenterAddress = "8613800511500";
                }
                if (i == 3)
                {
                    pe.ServiceCenterAddress = "+8613800511500";
                }
                
                Assert.Equal("0891683108501105F011000BA15150800576F70000C40131", pe.PDUEncoder("15050850677", "1")[0].PduCode);
            }

            pe.ServiceCenterAddress = "13800511500";
            Assert.Equal("0891683108501105F011000BA15150800576F70000C4023119", pe.PDUEncoder("15050850677", "12")[0].PduCode);

            //160字符
            Assert.Equal("0891683108501105F011000BA15150800576F70000C4A061F67CAD36AFE7E4B059AD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD9", pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl")[0].PduCode);

            //161字符
            lcm = pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl2");
            Assert.Equal("0891683108501105F051000BA15150800576F70000C4A0050003390201C2ECF95A6D5ECFC961B35AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD5,0891683108501105F051000BA15150800576F70000C40F050003390202D46AB55AAD66CB00", lcm[0].PduCode + "," + lcm[1].PduCode);

            //两条满
            lcm = pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl2jsfgjsalkuirewpoqiroepwkrsdalfkdslaaaaaaaaadgklodsfigopewrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrkkkkkkkkkkkkkkkkkkkkkkkkkkkll");
            Assert.Equal("0891683108501105F051000BA15150800576F70000C4A0050003390201C2ECF95A6D5ECFC961B35AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD5,0891683108501105F051000BA15150800576F70000C4A0050003390202D46AB55AAD66CBD473F3593D0FB3D7F5B4BC7C87BFE369F9BB0CBFAFE57372986D5E93E7EC70381C0E87C3E130F9BC66BFC97373FAFC8697EF72B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B97CBD5EAFD7EBF57ABD5EAFD7EBF57ABD5EAFD7EBF57ABD5EB3D9", lcm[0].PduCode + "," + lcm[1].PduCode);

            //两条满 +1字符
            lcm = pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl2jsfgjsalkuirewpoqiroepwkrsdalfkdslaaaaaaaaadgklodsfigopewrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrkkkkkkkkkkkkkkkkkkkkkkkkkkkllj");
            Assert.Equal("0891683108501105F051000BA15150800576F70000C4A0050003390301C2ECF95A6D5ECFC961B35AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD5,0891683108501105F051000BA15150800576F70000C4A0050003390302D46AB55AAD66CBD473F3593D0FB3D7F5B4BC7C87BFE369F9BB0CBFAFE57372986D5E93E7EC70381C0E87C3E130F9BC66BFC97373FAFC8697EF72B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B97CBD5EAFD7EBF57ABD5EAFD7EBF57ABD5EAFD7EBF57ABD5EB3D9,0891683108501105F051000BA15150800576F70000C408050003390303D4", lcm[0].PduCode + "," + lcm[1].PduCode + "," + lcm[2].PduCode);

            //中文短信
            for (int i = 0; i < 3; i++)
            {
                if (i == 0)
                {
                    pe.ServiceCenterAddress = "13800511500";
                }
                if (i == 1)
                {
                    pe.ServiceCenterAddress = "8613800511500";
                }
                if (i == 3)
                {
                    pe.ServiceCenterAddress = "+8613800511500";
                }
                Assert.Equal("0891683108501105F011000BA15150800576F70008C4026211", pe.PDUEncoder("15050850677", "我")[0].PduCode);
            }

            pe.ServiceCenterAddress = "13800511500";
            Assert.Equal("0891683108501105F011000BA15150800576F70008C4044F60597D", pe.PDUEncoder("15050850677", "你好")[0].PduCode);

            //一条 满
            Assert.Equal("0891683108501105F011000BA15150800576F70008C48C5C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E86649253D18428514B", pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克")[0].PduCode);

            //一条 +1
            lcm = pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克他");
            Assert.Equal("0891683108501105F051000BA15150800576F70008C48C0500033902015C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E866492,0891683108501105F051000BA15150800576F70008C40E05000339020253D18428514B4ED6", lcm[0].PduCode + "," + lcm[1].PduCode);

            //两条满
            lcm = pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克他反复反复发发发看上了就分开分开了撒地方凯撒激发大家撒开了附近的快乐撒即可放大拉丝机克劳福德范德萨看了就分开了打时间飞快垃圾的的");
            Assert.Equal("0891683108501105F051000BA15150800576F70008C48C0500033902015C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E866492,0891683108501105F051000BA15150800576F70008C48C05000339020253D18428514B4ED653CD590D53CD590D53D153D153D1770B4E0A4E865C3152065F0052065F004E866492573065B951EF64926FC053D159275BB664925F004E8696448FD176845FEB4E506492537353EF653E592762C94E1D673A514B52B3798F5FB783035FB78428770B4E865C3152065F004E86625365F695F498DE5FEB5783573E76847684", lcm[0].PduCode + "," + lcm[1].PduCode);

            //两条满 +1字符
            lcm = pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克他反复反复发发发看上了就分开分开了撒地方凯撒激发大家撒开了附近的快乐撒即可放大拉丝机克劳福德范德萨看了就分开了打时间飞快垃圾的的凑");
            Assert.Equal("0891683108501105F051000BA15150800576F70008C48C0500033903015C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E866492,0891683108501105F051000BA15150800576F70008C48C05000339030253D18428514B4ED653CD590D53CD590D53D153D153D1770B4E0A4E865C3152065F0052065F004E866492573065B951EF64926FC053D159275BB664925F004E8696448FD176845FEB4E506492537353EF653E592762C94E1D673A514B52B3798F5FB783035FB78428770B4E865C3152065F004E86625365F695F498DE5FEB5783573E76847684,0891683108501105F051000BA15150800576F70008C40805000339030351D1", lcm[0].PduCode + "," + lcm[1].PduCode + "," + lcm[2].PduCode);
        }

        [Fact]
        public void PDUEncoderWithoutSCATest()  //不含短信中心号编码测试
        {
            pe.ServiceCenterAddress = ""; //

            List<CodedMessage> lcm = new List<CodedMessage>();

            //英文短信
            Assert.Equal("0011000BA15150800576F70000C40131", pe.PDUEncoder("15050850677", "1")[0].PduCode);

                Assert.Equal("0011000BA15150800576F70000C4023119", pe.PDUEncoder("15050850677", "12")[0].PduCode);

            //160字符
                Assert.Equal("0011000BA15150800576F70000C4A061F67CAD36AFE7E4B059AD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD9", pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl")[0].PduCode);

            //161字符

                lcm = pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl2");
                Assert.Equal("0051000BA15150800576F70000C4A0050003390201C2ECF95A6D5ECFC961B35AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD5,0051000BA15150800576F70000C40F050003390202D46AB55AAD66CB00", lcm[0].PduCode+","+lcm[1].PduCode);

            //两条满
                lcm = pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl2jsfgjsalkuirewpoqiroepwkrsdalfkdslaaaaaaaaadgklodsfigopewrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrkkkkkkkkkkkkkkkkkkkkkkkkkkkll");
                Assert.Equal("0051000BA15150800576F70000C4A0050003390201C2ECF95A6D5ECFC961B35AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD5,0051000BA15150800576F70000C4A0050003390202D46AB55AAD66CBD473F3593D0FB3D7F5B4BC7C87BFE369F9BB0CBFAFE57372986D5E93E7EC70381C0E87C3E130F9BC66BFC97373FAFC8697EF72B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B97CBD5EAFD7EBF57ABD5EAFD7EBF57ABD5EAFD7EBF57ABD5EB3D9", lcm[0].PduCode + "," + lcm[1].PduCode);

            //两条满 +1字符
                lcm = pe.PDUEncoder("15050850677", "alskjfksdafjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjl2jsfgjsalkuirewpoqiroepwkrsdalfkdslaaaaaaaaadgklodsfigopewrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrkkkkkkkkkkkkkkkkkkkkkkkkkkkllj");
                Assert.Equal("0051000BA15150800576F70000C4A0050003390301C2ECF95A6D5ECFC961B35AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD56AB55AAD56ABD5,0051000BA15150800576F70000C4A0050003390302D46AB55AAD66CBD473F3593D0FB3D7F5B4BC7C87BFE369F9BB0CBFAFE57372986D5E93E7EC70381C0E87C3E130F9BC66BFC97373FAFC8697EF72B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B95C2E97CBE572B97CBD5EAFD7EBF57ABD5EAFD7EBF57ABD5EAFD7EBF57ABD5EB3D9,0051000BA15150800576F70000C408050003390303D4", lcm[0].PduCode + "," + lcm[1].PduCode + "," + lcm[2].PduCode);

            //中文短信

                Assert.Equal("0011000BA15150800576F70008C4026211", pe.PDUEncoder("15050850677", "我")[0].PduCode);

                Assert.Equal("0011000BA15150800576F70008C4044F60597D", pe.PDUEncoder("15050850677", "你好")[0].PduCode);

            //一条 满
                lcm = pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克");
                Assert.Equal("0011000BA15150800576F70008C48C5C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E86649253D18428514B", lcm[0].PduCode);

            //一条 +1
                lcm = pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克他");
                Assert.Equal("0051000BA15150800576F70008C48C0500033902015C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E866492,0051000BA15150800576F70008C40E05000339020253D18428514B4ED6", lcm[0].PduCode + "," + lcm[1].PduCode);

            //两条满
                lcm = pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克他反复反复发发发看上了就分开分开了撒地方凯撒激发大家撒开了附近的快乐撒即可放大拉丝机克劳福德范德萨看了就分开了打时间飞快垃圾的的");
                Assert.Equal("0051000BA15150800576F70008C48C0500033902015C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E866492,0051000BA15150800576F70008C48C05000339020253D18428514B4ED653CD590D53CD590D53D153D153D1770B4E0A4E865C3152065F0052065F004E866492573065B951EF64926FC053D159275BB664925F004E8696448FD176845FEB4E506492537353EF653E592762C94E1D673A514B52B3798F5FB783035FB78428770B4E865C3152065F004E86625365F695F498DE5FEB5783573E76847684", lcm[0].PduCode + "," + lcm[1].PduCode);

            //两条满 +1字符
                lcm = pe.PDUEncoder("15050850677", "就撒开了的肌肤金克拉附近开了撒酒疯快乐的撒娇发的快乐撒几分快乐的数据哦飞洒可恢复健康福建按双方就快点撒开发链接发撒娇发撒开了就分开了撒发萨克他反复反复发发发看上了就分开分开了撒地方凯撒激发大家撒开了附近的快乐撒即可放大拉丝机克劳福德范德萨看了就分开了打时间飞快垃圾的的凑");
                Assert.Equal("0051000BA15150800576F70008C48C0500033903015C3164925F004E867684808C80A491D1514B62C996448FD15F004E866492915275AF5FEB4E50768464925A0753D176845FEB4E50649251E052065FEB4E5076846570636E54E698DE6D1253EF6062590D50655EB7798F5EFA630953CC65B95C315FEB70B964925F0053D194FE63A553D164925A0753D164925F004E865C3152065F004E866492,0051000BA15150800576F70008C48C05000339030253D18428514B4ED653CD590D53CD590D53D153D153D1770B4E0A4E865C3152065F0052065F004E866492573065B951EF64926FC053D159275BB664925F004E8696448FD176845FEB4E506492537353EF653E592762C94E1D673A514B52B3798F5FB783035FB78428770B4E865C3152065F004E86625365F695F498DE5FEB5783573E76847684,0051000BA15150800576F70008C40805000339030351D1", lcm[0].PduCode + "," + lcm[1].PduCode + "," + lcm[2].PduCode);
        }
        
        [Fact]
        public void PDUDecoderofUsc2SmsTest()    //一般短信解码测试（） 7bit
        {
            //短信内容：1一个字符
            Assert.Equal("010100,8613800511500,8615050850677,20110520215106,我", pe.PDUDecoder("0891683108501105F0040D91685150800576F7000811500212156023026211").ToString());

            //短信内容：12两个字符
            Assert.Equal("010100,8613800511500,8615050850677,20110520215212,你好", pe.PDUDecoder("0891683108501105F0040D91685150800576F7000811500212252123044F60597D").ToString());

            //短信内容：70字符 一条
            Assert.Equal("010100,8613800511500,8615050850677,20110520215342,互相信息息息息息息息的的的一起初期满不会面临到底子宫一起初等我是乎是非分钟点出口角逐年轻重点燃放在乎一起飞回去处处事业主页在意识的一起草坪在", pe.PDUDecoder("0891683108501105F0040D91685150800576F70008115002123524238C4E9276F84FE1606F606F606F606F606F606F606F7684768476844E008D77521D671F6EE14E0D4F1A97624E3452305E955B505BAB4E008D77521D7B496211662F4E4E662F975E5206949F70B951FA53E389D290105E748F7B91CD70B971C3653E57284E4E4E008D7798DE56DE53BB590459044E8B4E1A4E3B98755728610F8BC676844E008D778349576A5728").ToString());

            //短信内容：一条 +1
            Assert.Equal("0201B6,8613800511500,8615050850677,20110520215649,已已完美观察的溉在于事实在于己是一些的的一定时刻划为人事实在乎在意识的在布易拉扯意外面拓在场次要好了断水分钟点歌厅的一起已已完美好消耗(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F70008115002126594238C050003B602015DF25DF25B8C7F8E89C25BDF76846E8957284E8E4E8B5B9E57284E8E5DF1662F4E004E9B768476844E005B9A65F6523B52124E3A4EBA4E8B5B9E57284E4E5728610F8BC6768457285E03661362C9626F610F5916976262D35728573A6B218981597D4E8665AD6C345206949F70B96B4C538576844E008D775DF25DF25B8C7F8E597D6D888017").ToString());

            //短信内容：一条 +1
            Assert.Equal("0202B6,8613800511500,8615050850677,20110520215651,(...)资产量俄", pe.PDUDecoder("0891683108501105F0440D91685150800576F70008115002126515230E050003B602028D444EA791CF4FC4").ToString());

            //短信内容：两条满
            Assert.Equal("0201B7,8613800511500,8615050850677,20110520215933,溉是步的一些在线条例证书信心脏衣裳丐在线性感冒昧在意外面前进入迷信心脏的一会员是非要事实现象山路旁听到处事故宫的是非分配备份内蒙混入迷(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F70008115002129533238C050003B702016E89662F6B6576844E004E9B57287EBF67614F8B8BC14E664FE15FC3810F886388F34E1057287EBF6027611F519266275728610F59169762524D8FDB51658FF74FE15FC3810F76844E004F1A5458662F975E89814E8B5B9E73B08C615C718DEF65C1542C523059044E8B65455BAB7684662F975E5206914D59074EFD518584996DF751658FF7").ToString());

            //短信内容：两条满
            Assert.Equal("0202B7,8613800511500,8615050850677,20110520215937,(...)人情形成熟路过年薪一会计费事呼救火锅是不会见效仿佛像是非要好了不会计费力度量的是非分手段是因而的一起初等待查看书记忆在意志同事故宫的一", pe.PDUDecoder("0891683108501105F0440D91685150800576F70008115002129573238C050003B702024EBA60C55F626210719F8DEF8FC75E7485AA4E004F1A8BA18D394E8B547C6551706B9505662F4E0D4F1A89C165484EFF4F5B50CF662F975E8981597D4E864E0D4F1A8BA18D39529B5EA691CF7684662F975E5206624B6BB5662F56E0800C76844E008D77521D7B495F8567E5770B4E668BB05FC65728610F5FD7540C4E8B65455BAB76844E00").ToString());

            //短信内容：两条+1
            Assert.Equal("0301B8,8613800511500,8615050850677,20110520220311,呼声明显著称之外面试点歌厅堂的一次于己在乎不行家伙计较多数量一会员在线的是因素蔑是非分钟点歌迷恋的的的的一会员在线性感兴起初等等我是因(...)(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F70008115002223011238C050003B80301547C58F0660E663E845779F04E4B591697628BD570B96B4C5385580276844E006B214E8E5DF157284E4E4E0D884C5BB64F198BA18F83591A657091CF4E004F1A545857287EBF7684662F56E07D208511662F975E5206949F70B96B4C8FF7604B76847684768476844E004F1A545857287EBF6027611F51748D77521D7B497B496211662F56E0").ToString());

            //短信内容：两条+1
            Assert.Equal("0302B8,8613800511500,8615050850677,20110520220315,(...)特性别易拉锁一会计费劲一会员在线一次于的是非要事多次于的是因特定购销赃是因特定购销赃是因特定购销赃是因果实验光临别迟迟迟迟迟误差不用于(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F70008115002223051238C050003B8030272796027522B661362C995014E004F1A8BA18D3952B24E004F1A545857287EBF4E006B214E8E7684662F975E89814E8B591A6B214E8E7684662F56E072795B9A8D2D95008D43662F56E072795B9A8D2D95008D43662F56E072795B9A8D2D95008D43662F56E0679C5B9E9A8C51494E34522B8FDF8FDF8FDF8FDF8FDF8BEF5DEE4E0D75284E8E").ToString());

            //短信内容：两条+1
            Assert.Equal("0303B8,8613800511500,8615050850677,20110520220317,(...)(...)。", pe.PDUDecoder("0891683108501105F0440D91685150800576F700081150022230712308050003B803033002").ToString());

        }
        
        [Fact]
        public void PDUDecoderofAsciiSmsTest()    //一般短信解码测试（） usc2
        {
            //短信内容：1一个字符
            Assert.Equal("010100,8613800511500,8615050850677,20110520211152,1", pe.PDUDecoder("0891683108501105F0040D91685150800576F70000115002121125230131").ToString());

            //短信内容：12两个字符
            Assert.Equal("010100,8613800511500,8615050850677,20110520211438,12", pe.PDUDecoder("0891683108501105F0040D91685150800576F7000011500212418323023119").ToString());

            //短信内容：160字符 一条
            Assert.Equal("010100,8613800511500,8615050850677,20110520211651,HHTRDSGHCGHJBVDSRFMLOOHGVDEDFGHOPKUFDCBHYERUOGMSHDGYGCHTUEKDGKHOKKHFFSHSJDJGGPPNHFKGFBNBJNBnngghkljhgghkkjhhghhjjkkkllkjjhffghkHHMNGGGHJKLUHGFGHJJHHHHHJJJJJKHKJ", pe.PDUDecoder("0891683108501105F0040D91685150800576F7000011500212611523A04824554A9C1E91C3235229B412A7526393F97C228F566291683C229FD065D5481C0A91D9A2B4FA3C36A748E2317B1C22A9D5E292785C229FCB25D2689C22A74AA2F27884429D48E3F268143A854AA7D0ED3E9FD16BB61A7D3EA3D76B351A7D46A3D5EAF57ACD66AFD56AB4D97C46AF91C8A6F3783C22954B661579341E914A2512894422954AA552B9442E95").ToString());

            //短信内容：一条 +1
            Assert.Equal("0201B2,8613800511500,8615050850677,20110520213059,GUDGKVBBgsscghjgdbgdfggrddswdh.kjhffyyhujko(;;((((((((())))))))))(;;..:,,((((((((((((.::...)))))))))))))....;;;;((((((((((((((;..:..;;((((.))))))))))))))(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F7000011500212039523A0050003B202018E55E27169150ACFF3F9F88C569FC9E233D97C3ECBC9E4F99D8C76ADD568B3399F47D7D5EB376AB743A15028140A8542A552A9542A954AA552A8DDCEE5D2B15828140A8542A15028140AE5D2E95C2E572A954AA552A9542A954AA55C2E976BB7DBED5028140A8542A15028140A85DAB95C3A976BB743A15028572A954AA552A9542A954AA552").ToString());

            //短信内容：一条 +1
            Assert.Equal("0202B2,8613800511500,8615050850677,20110520213101,(...)))))))).\0", pe.PDUDecoder("0891683108501105F0440D91685150800576F70000115002121310230F050003B2020252A9542A954AB900").ToString());

            //短信内容：两条满
            Assert.Equal("0201B4,8613800511500,8615050850677,20110520213620,ffccvhhbbnnnhhhgfftjiirjmmjrnbgvcvnhcckmnnjjkkhklijhkghkoufsghgfghhjjjjjjjhhjhhhhhnnjkoopkhgghhmNBNMNBHBHJKHHJHJHNVVHJK.HHJKLHJJJUYTTRRYYUJKKJHGGGHHJGFGH(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F7000011500212630223A0050003B40201CCE6F1D88E468BC56EB71B8D469FCD66BA3A9D96ABDB6DB5DC2D3EDBC776377A3C5EB7DD6EB57ABD46AFD969357A7D46AFDF75F3FC8C3E9BCF68B45AAD56ABD56A345A8D46A3D168B75BBD7EBFE16BF4F98C46B79D4267D329440A91CA2512A9442A914EAB15A95CBA9048E59289542A95D52C952A9566B355E572A9441E8F47245279341E91").ToString());

            //短信内容：两条满
            Assert.Equal("0202B4,8613800511500,8615050850677,20110520213624,(...)HHHHHYHHJHHHJJJYGGGHGHHHHHHHJHHHHGGGGGHHHGDDJLJHGFCJKKHGVFCBHKJJHHDDGHL.JHHVVKKBBJGJHHHKKHGGJJHGFFHJHJJJJVVCNLJHGFVGJGJBHHBVDHKJBKGJBHVBJBBVBJBJGGHVJBMBH", pe.PDUDecoder("0891683108501105F0440D91685150800576F7000011500212634223A0050003B402029048241299452295482452A954668FC723F28844229148245289442291C7E3F178442291472251C954228FC6A172B9441EADC6A110B9542A914822F18864BA9448A4D5BA5C0A85CAA31289442E97C8E351A9441E8D46A412A9542A9556EBD0C954228F46EB5179540A9148A195885C2A85CBA35288B40A9542A155A8142A8F47A455296C0A91").ToString());

            //短信内容：两条+1
            Assert.Equal("0301B5,8613800511500,8615050850677,20110520214105,RFGTTUJJMJGGFGGGHhhhjgffhjgggghykkkklkhgffghygghbggmmjkwwwdvcvvfrrthgbbvfffghyuhbvhytgghyytyyytttggftgggghhhhhhgscbjkgfhdytredfggcbgvvjmmjuggtttdgeersfbh(...)(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F7000011500212145023A0050003B50301A4C623955A552A9BCAE3D1783C1E9168345A7D369BD1EAF3F97C46E7D7EBF59ABD469FCDE6333A7F3EA3C5E773BBAD5EDFEF77B27D6CB79BE5723AFA2C16DBCD66F3199DAFA3C576749E7E3EA3F3797A3E9FA7D3E9E7B3997E3E9FCF68341A8D469FE763B17A7D36A3C979BABC4C369FCF63F1D96E57B7DBEAFAF94CA7D3C9E772593E378BD1").ToString());

            //短信内容：两条+1
            Assert.Equal("0302B5,8613800511500,8615050850677,20110520214108,(...)hggggbhhyujjkklllhhgghbfddfffbbnnmmmmbbnmmmnnjjjjjhhghhhhhghghjhhhhhhghjhhhhhhhhgfghfkjlkljgjkhhujjhhjjmhjjhkjkjJHJHJJHJJJHGHHHJHHJJMKKJMMMNNMMJJYHHJKLLR(...)", pe.PDUDecoder("0891683108501105F0440D91685150800576F7000011500212148023A0050003B50302D0E7F3F92C46A3F375B57ABD66B3D968F4F98C169BC964B3D92C16BBDDED76BB2D16BBDBEDB6DBAD56ABD56A34FA8C46A3D1E833FA8C56A3D168341A7D46ABD168341A8D46A3CFE633DABC56B3D76CF559BD46A3EB6A351AAD56B7D16A357AAD5EAB95482552A9442A954AE41189442A9148A5B2B95C2A9BCDA6D3D96C2A95592452B96432A5").ToString());

            //短信内容：两条+1
            Assert.Equal("0303B5,8613800511500,8615050850677,20110520214110,(...)(...)M", pe.PDUDecoder("0891683108501105F0440D91685150800576F700001150021214012308050003B503039A").ToString());

        }

    }
}
